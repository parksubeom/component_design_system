/* 1. Tailwind v4 엔진 로드 */
@import "tailwindcss";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

/* 3. 테마 설정 (Utility Generation) */
@theme {
  /* Semantic Colors */
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);

  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);

  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);

  --color-gray-solid: var(--status-archived);

  /* BDS Legacy Utilities */
  --color-bum-bg-page: var(--legacy-bg-page);
  --color-bum-blue-main: var(--legacy-blue-main);
  --color-bum-blue-light: var(--legacy-blue-light);
  --color-bum-blue-border: var(--legacy-blue-border);
  --color-bum-blue-dark: var(--legacy-blue-dark);

  --color-bum-green-main: var(--legacy-green-main);
  --color-bum-green-light: var(--legacy-green-light);
  --color-bum-green-border: var(--legacy-green-border);
  --color-bum-green-dark: var(--legacy-green-dark);

  --color-bum-orange-main: var(--legacy-orange-main);
  --color-bum-orange-light: var(--legacy-orange-light);
  --color-bum-orange-border: var(--legacy-orange-border);

  --color-bum-red-main: var(--legacy-red-main);
  --color-bum-red-light: var(--legacy-red-light);
  --color-bum-red-border: var(--legacy-red-border);
  --color-bum-red-dark: var(--legacy-red-dark);

  --color-bum-gray-200: var(--legacy-gray-200);
  --color-bum-gray-300: var(--legacy-gray-300);
  --color-bum-gray-350: var(--legacy-gray-350);
  --color-bum-gray-border: var(--legacy-gray-border);
  --color-bum-gray-500: var(--legacy-gray-500);
  --color-bum-gray-600: var(--legacy-gray-600);
  --color-bum-gray-700: var(--legacy-gray-700);
  --color-bum-gray-800: var(--legacy-gray-800);

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: 0;
    }
    to {
      height: 0;
    }
  }
}

@layer base {
  :root {
    /* ==================================================================
       1. LIGHT MODE (Primitives & Semantics) - [건드리지 않음]
       ================================================================== */
    --legacy-bg-page: #f0f0f0;
    --legacy-white: #ffffff;
    --legacy-black: #000000;
    --legacy-blue-main: #1775d2;
    --legacy-blue-dark: #1565c0;
    --legacy-blue-light: #e3f2fd;
    --legacy-blue-border: #90caf9;
    --legacy-green-main: #388e3c;
    --legacy-green-dark: #2e7d32;
    --legacy-green-light: #e8f5e9;
    --legacy-green-border: #81c784;
    --legacy-red-main: #d32f2f;
    --legacy-red-dark: #c62828;
    --legacy-red-light: #ffebee;
    --legacy-red-border: #e57373;
    --legacy-orange-main: #f57c00;
    --legacy-orange-light: #fff3e0;
    --legacy-orange-border: #ffb74d;
    --legacy-info-main: #0288d1;
    --legacy-gray-100: #f5f5f5;
    --legacy-gray-200: #e0e0e0;
    --legacy-gray-300: #dddddd;
    --legacy-gray-350: #cccccc;
    --legacy-gray-400: #999999;
    --legacy-gray-800: #333333;
    --legacy-gray-solid: #757474;
    --legacy-radius: 0.25rem;

    --background: var(--legacy-white);
    --foreground: var(--legacy-gray-800);
    --card: var(--legacy-white);
    --card-foreground: var(--legacy-gray-800);
    --popover: var(--legacy-white);
    --popover-foreground: var(--legacy-gray-800);
    --primary: var(--legacy-blue-main);
    --primary-foreground: var(--legacy-white);
    --secondary: var(--legacy-gray-100);
    --secondary-foreground: var(--legacy-gray-800);
    --destructive: var(--legacy-red-main);
    --destructive-foreground: var(--legacy-white);
    --success: var(--legacy-green-main);
    --success-foreground: var(--legacy-white);
    --warning: var(--legacy-orange-main);
    --warning-foreground: var(--legacy-white);
    --info: var(--legacy-info-main);
    --info-foreground: var(--legacy-white);
    --muted: var(--legacy-gray-100);
    --muted-foreground: var(--legacy-gray-400);
    --accent: var(--legacy-gray-100);
    --accent-foreground: var(--legacy-blue-main);
    --border: var(--legacy-gray-300);
    --input: var(--legacy-gray-300);
    --ring: var(--legacy-blue-main);
    --radius: var(--legacy-radius);
  }

  /* ==================================================================
     DARK MODE (A11y Optimized - Bright Surface / Dark Text)
     ================================================================== */
  .dark {
    /* 1. Base Surfaces (Page is Dark, Content is Lighter) */
    --background: #020817; /* Page BG: Very Dark Slate */
    --foreground: var(--legacy-white); /* Page Text: Light */

    /* Card & Popover: 배경보다 한 단계 밝아 위계 표현 */
    --card: #1e293b; /* Slate 800 */
    --card-foreground: var(--legacy-white);
    --popover: #1e293b;
    --popover-foreground: var(--legacy-white);

    /* ✅ [Primary/Action Inversion] Button/Input BG is Bright, Text is Dark */
    --primary: var(--legacy-white); /* Primary BG: White */
    --primary-foreground: var(
      --legacy-blue-dark
    ); /* Primary Text: Dark Blue (#1565c0) */

    /* Input/Border Surface Overrides */
    --input: var(--legacy-white); /* Input BG is White */
    --border: var(--legacy-gray-300); /* Border remains light gray */
    --ring: var(--legacy-blue-main);

    /* Secondary/Muted */
    --secondary: var(--legacy-gray-100); /* Light Gray */
    --secondary-foreground: var(--legacy-gray-800); /* Dark Text */

    --muted: var(--legacy-gray-100);
    --muted-foreground: var(--legacy-gray-400);

    --accent: var(--legacy-gray-200);
    --accent-foreground: var(--legacy-blue-main);

    /* Destructive/Status Fixes */
    --destructive: var(--legacy-red-main);
    --destructive-foreground: var(--legacy-red-dark);

    --success: var(--legacy-green-main);
    --success-foreground: var(--legacy-green-dark);

    --warning: var(--legacy-orange-main);
    --warning-foreground: var(--legacy-orange-dark);

    --info: var(--legacy-info-main);
    --info-foreground: var(--legacy-blue-dark);

    --status-archived: var(--legacy-gray-solid); /* #757474 */

    /* ==================================================
       [Legacy Utilities Override] - STATS CARD FIX
       * Card BG is White, Text is Dark for all cards
       ================================================== */

    /* Blue Card (전체) */
    --legacy-blue-light: var(--legacy-white); /* White BG */
    --legacy-blue-border: var(--legacy-gray-300); /* Light Border */
    --legacy-blue-main: var(--legacy-blue-dark); /* Dark Blue Text */

    /* Green Card (활성) */
    --legacy-green-light: var(--legacy-white);
    --legacy-green-border: var(--legacy-gray-300);
    --legacy-green-main: var(--legacy-green-dark);

    /* Orange Card (비활성) */
    --legacy-orange-light: var(--legacy-white);
    --legacy-orange-border: var(--legacy-gray-300);
    --legacy-orange-main: var(
      --legacy-orange-main
    ); /* Dark Orange Text (주황색은 어두운 텍스트가 더 잘보임) */

    /* Red Card (정지) */
    --legacy-red-light: var(--legacy-white);
    --legacy-red-border: var(--legacy-gray-300);
    --legacy-red-main: var(--legacy-red-dark); /* Dark Red Text */

    /* Gray Card (관리자/조회수) */
    --legacy-gray-100: var(--legacy-white); /* White BG */
    --legacy-gray-border: var(--legacy-gray-300); /* Light Border */
    --legacy-gray-700: var(--legacy-gray-800); /* Dark Gray Text */
    --legacy-gray-800: var(--legacy-gray-800); /* Dark Gray Text */
  }

  /* Global Styles */
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    font-family: Arial, sans-serif;
    line-height: 1.5;
  }

  input,
  textarea,
  select,
  button {
    font-family: inherit;
  }
}
